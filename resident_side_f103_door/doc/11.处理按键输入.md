# 按键输入

## 1. 按键抖动

按键抖动是指在按下或释放按键时，由于按键的机械特性和物理原理，导致按键信号出现短暂的不稳定状态，产生多个不连续的信号脉冲。这种抖动现象可能会导致误触发或多次触发按键事件，给系统带来干扰或错误操作。

按键抖动的原因主要包括：
1. 机械结构引起的弹跳：按键内部的弹簧、接触片等机械部件在按下或释放过程中可能会发生微小的弹性变形，导致接触不稳定，从而产生抖动现象。
2. 物理噪声干扰：周围环境中的电磁干扰、振动或机械冲击等因素也可能对按键信号产生影响，导致抖动现象。

为了解决按键抖动问题，常用的方法包括硬件滤波和软件滤波：
1. 硬件滤波：通过在按键电路中添加滤波电路或元件，如电容、电阻等，来减小抖动幅度。滤波电路可以抑制高频噪声和抖动信号，使得按键信号更加稳定。
2. 软件滤波：利用软件算法对按键信号进行处理和判断。常见的软件滤波方法包括去抖动延时、按键状态检测和消抖算法等。去抖动延时是通过在按键触发后引入一段延时时间，在延时结束后再次读取按键状态，确保按键信号稳定。按键状态检测是通过连续读取按键状态并判断其稳定性，只有在连续多次读取到相同状态时才认为按键有效。消抖算法则根据抖动脉冲的持续时间和间隔时间等特性进行信号处理，以判断真实的按键状态。

通过采用适当的硬件滤波和软件滤波方法，可以有效降低按键抖动带来的干扰，提高按键的可靠性和稳定性。在嵌入式系统中，对按键进行抖动处理是确保按键输入准确性的重要步骤之一。

![](https://pic2.imgdb.cn/item/6466188b0d2dde57775c403a.jpg)

## 2. 处理按键抖动

keil 调式对变量进行监视
![](https://pic1.imgdb.cn/item/646752bae03e90d8746cb64a.jpg)

